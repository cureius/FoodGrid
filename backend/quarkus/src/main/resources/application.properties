quarkus.http.port=8080

# Database
quarkus.datasource.db-kind=mysql
quarkus.datasource.username=root
#quarkus.datasource.password=foodgrid
#quarkus.datasource.jdbc.url=jdbc:mysql://localhost:3307/foodgrid_db?useUnicode=true&characterEncoding=utf8&useSSL=false&allowPublicKeyRetrieval=true

quarkus.datasource.password=nsmQIcWJRuRnGjMPUSQIZCudTkVQlSiT
quarkus.datasource.jdbc.url=jdbc:mysql://root:nsmQIcWJRuRnGjMPUSQIZCudTkVQlSiT@crossover.proxy.rlwy.net:55494/railway?useUnicode=true&characterEncoding=utf8&useSSL=false&allowPublicKeyRetrieval=true

# Connection pool configuration for Railway
quarkus.datasource.jdbc.max-size=10
quarkus.datasource.jdbc.min-size=2
quarkus.datasource.jdbc.initial-size=2
quarkus.datasource.jdbc.acquisition-timeout=60
quarkus.datasource.jdbc.leak-detection-interval=60000
quarkus.datasource.jdbc.idle-removal-interval=300000
quarkus.datasource.jdbc.max-lifetime=1800000

quarkus.hibernate-orm.database.generation=update
quarkus.hibernate-orm.log.sql=false

# Liquibase (temporarily disabled due to XML parsing error)
quarkus.liquibase.migrate-at-start=true
quarkus.liquibase.change-log=classpath:db/changelog/master.xml

# OpenAPI
quarkus.smallrye-openapi.path=/openapi

# JWT (HS256 for dev; replace with proper key management for prod)
smallrye.jwt.sign.key.location=classpath:/jwt/privateKey.pem
mp.jwt.verify.publickey.location=classpath:/jwt/publicKey.pem
mp.jwt.verify.issuer=foodgrid

# CORS for local Next.js
quarkus.http.cors=true
quarkus.http.cors.origins=*
quarkus.http.cors.headers=accept,authorization,content-type,x-requested-with,idempotency-key,Idempotency-Key
quarkus.http.cors.methods=GET,POST,PUT,DELETE,OPTIONS
quarkus.http.cors.credentials=true

# Workaround when running with JDK > 22: Hibernate enhancer uses Byte Buddy.
# Prefer running Quarkus with JDK 21/22. If you must use JDK 23, add -Dnet.bytebuddy.experimental=true to JVM args.
# quarkus.jvm.args=-Dnet.bytebuddy.experimental=true

# Security: RBAC checks are enabled by default via quarkus-security extension
# quarkus.security.jaxrs.enabled=true

# Encryption key for payment gateway credentials (MUST change in production!)
foodgrid.encryption.master-key=change-this-master-key-in-production-use-32-chars

# ========================================
# Blob Storage Configuration
# ========================================
# Provider type: LOCAL, AWS_S3, MINIO
foodgrid.storage.provider=LOCAL

# Local storage settings (used when provider=LOCAL)
foodgrid.storage.local.base-path=./uploads
foodgrid.storage.local.base-url=/uploads
foodgrid.storage.local.server-base-url=http://localhost:8080

# AWS S3 settings (used when provider=AWS_S3 or MINIO)
# foodgrid.storage.s3.bucket=your-bucket-name
# foodgrid.storage.s3.region=us-east-1
# foodgrid.storage.s3.access-key=your-access-key
# foodgrid.storage.s3.secret-key=your-secret-key
# foodgrid.storage.s3.endpoint=https://s3.amazonaws.com
# foodgrid.storage.s3.presigned-url-duration-minutes=60
# foodgrid.storage.s3.public-url-base=https://your-cdn.cloudfront.net

# MinIO example (S3-compatible)
# foodgrid.storage.provider=MINIO
# foodgrid.storage.s3.bucket=foodgrid
# foodgrid.storage.s3.region=us-east-1
# foodgrid.storage.s3.access-key=minioadmin
# foodgrid.storage.s3.secret-key=minioadmin
# foodgrid.storage.s3.endpoint=http://localhost:9000

# File upload limits
quarkus.http.body.multipart.file-content-types=image/jpeg,image/png,image/gif,image/webp
quarkus.http.limits.max-body-size=10M

foodgrid.razorpay.webhook.url=https://c08dff436dbe.ngrok-free.app

# ========================================
# Email Configuration
# ========================================
# Email sender configuration
app.email.from=noreply@foodgrid.com
app.email.from-name=FoodGrid

# Resend Email Service Configuration
resend.api.key=re_8jLkjLTW_HBNpXwhTghi7VyNcPkUNqEp4

# SMTP Configuration (Gmail) - Fixed for Railway deployment
quarkus.mailer.host=smtp.gmail.com
quarkus.mailer.port=587
quarkus.mailer.start-tls=REQUIRED
quarkus.mailer.auth=true
quarkus.mailer.username=theblueman9900@gmail.com
quarkus.mailer.password=suob osin nlsk kqsm

# Connection timeouts for Railway
quarkus.mailer.connection-timeout=30s
quarkus.mailer.connection-pool-size=5

# Email settings
quarkus.mailer.from=noreply@foodgrid.com
quarkus.mailer.mock=false  # Set to true for testing (emails will be logged instead of sent)
